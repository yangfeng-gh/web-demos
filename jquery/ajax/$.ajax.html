<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="../../lib/js/jquery-1.10.2.js" charset="utf-8"></script>
  <title>ajax</title>
</head>

<body>
<textarea name="json" rows="8" cols="80"></textarea>
<button type="button" id="ajax">getJSON</button>
<script type="text/javascript">
  $('#ajax').click(function () {
    $.ajax({
      url: 'http://a.yf.com:8070/cors-demo/jsonp',
      data: {},
      dataType: 'jsonp',
      jsonp: 'cb', // 这个参数必须与服务器端一致,服务器应该返回cb(json),缺省默认值为'callback'
      // jsonpCallback: 'foo',
      success: function (data, textStatus, jqXHR) {
        $('[name="json"]').val(JSON.stringify(data))
      },
      error: function (jqXHR, textStatus, errorThrown) {
        console.log(textStatus);
      }
    })
  })
</script>
</body>

</html>
